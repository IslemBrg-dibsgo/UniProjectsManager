{% extends 'emails/base_email.html' %}

{% block title %}Your Project Has Been Graded{% endblock %}

{% block content %}
<h2>Your Project Has Been Graded!</h2>

<p>Great news! Your project submission has been reviewed and graded by your teacher.</p>

<div class="info-box">
    <h3>{{ project_title }}</h3>
    <p>Classroom: {{ classroom_title }}</p>
    <p>Graded by: {{ teacher_name }}</p>
</div>

<!-- Grade Display -->
<div style="text-align: center; margin: 30px 0;">
    <p style="color: #64748b; font-size: 14px; margin-bottom: 10px;">Your Grade</p>
    <div class="grade-badge grade-{{ grade_status }}">
        {{ grade }}/{{ max_grade }}
    </div>
    <p style="color: #64748b; font-size: 14px; margin-top: 10px;">{{ grade_message }}</p>
</div>

<!-- Progress Bar -->
<div style="margin: 20px 0;">
    <div style="background-color: #e2e8f0; border-radius: 10px; height: 12px; overflow: hidden;">
        <div style="background: linear-gradient(135deg, {% if grade >= 16 %}#10b981, #059669{% elif grade >= 12 %}#3b82f6, #2563eb{% elif grade >= 10 %}#f59e0b, #d97706{% else %}#ef4444, #dc2626{% endif %}); height: 100%; width: {{ grade_percentage }}%; border-radius: 10px;"></div>
    </div>
    <p style="text-align: center; color: #94a3b8; font-size: 12px; margin-top: 8px;">{{ grade_percentage|floatformat:0 }}% of maximum grade</p>
</div>

{% if teacher_notes %}
<div style="margin: 30px 0;">
    <h3 style="color: #1a1a2e; font-size: 16px; margin-bottom: 12px;">Teacher's Feedback</h3>
    <div style="background-color: #f8fafc; border-radius: 8px; padding: 20px; border: 1px solid #e2e8f0;">
        <p style="color: #475569; font-size: 14px; margin: 0; white-space: pre-wrap;">{{ teacher_notes }}</p>
    </div>
</div>
{% endif %}

<div class="alert alert-success">
    <strong>Congratulations!</strong> Your submission has been successfully evaluated. You can view the complete details on the platform.
</div>

<p style="margin-top: 24px; text-align: center;">
    <a href="{{ submission_url }}" class="btn btn-success">View Full Results</a>
</p>

<p style="margin-top: 24px; color: #64748b; font-size: 14px; text-align: center;">
    If you have any questions about your grade or feedback, please contact your teacher directly.
</p>
{% endblock %}
