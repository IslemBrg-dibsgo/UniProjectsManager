{% extends "emails/base_email.html" %}

{% block title %}New Project Submission - {{ classroom_title }}{% endblock %}

{% block header_title %}New Project Submission{% endblock %}
{% block header_subtitle %}{{ classroom_title }}{% endblock %}

{% block content %}
<div class="greeting">
    Hello {{ teacher_name }},
</div>

<div class="content">
    <p>
        A student has submitted their project in your classroom. Here are the details:
    </p>
</div>

<!-- Project Details -->
<div class="info-box">
    <h3>ðŸ“‹ Submission Details</h3>
    
    <div class="info-row">
        <span class="info-label">Project Title:</span>
        <span class="info-value">{{ project_title }}</span>
    </div>
    
    <div class="info-row">
        <span class="info-label">Student:</span>
        <span class="info-value">{{ student_name }} ({{ student_email }})</span>
    </div>
    
    <div class="info-row">
        <span class="info-label">Classroom:</span>
        <span class="info-value">{{ classroom_title }}</span>
    </div>
    
    <div class="info-row">
        <span class="info-label">Repository:</span>
        <span class="info-value">
            <a href="{{ repository_url }}" target="_blank">{{ repository_url }}</a>
        </span>
    </div>
    
    {% if deployed_url %}
    <div class="info-row">
        <span class="info-label">Deployed URL:</span>
        <span class="info-value">
            <a href="{{ deployed_url }}" target="_blank">{{ deployed_url }}</a>
        </span>
    </div>
    {% endif %}
    
    <div class="info-row">
        <span class="info-label">Submitted At:</span>
        <span class="info-value">{{ submitted_at|date:"F j, Y, g:i a" }}</span>
    </div>
</div>

{% if collaborators %}
<!-- Collaborators -->
<div class="info-box">
    <h3>ðŸ‘¥ Collaborators</h3>
    <p style="color: #4b5563; font-size: 14px; margin: 0;">
        This project was submitted with the following collaborators:
    </p>
    <ul style="margin: 10px 0 0 0; padding-left: 20px; color: #1f2937;">
        {% for collaborator in collaborators %}
        <li>{{ collaborator.first_name }} {{ collaborator.last_name }} ({{ collaborator.email }})</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<div class="content">
    <p>
        You can review this submission and assign a grade by clicking the button below.
    </p>
</div>

<!-- Action Buttons -->
<div class="button-container">
    <a href="{{ submission_url }}" class="button">Review Submission</a>
    <a href="{{ classroom_url }}" class="button button-secondary">View All Submissions</a>
</div>

<div class="content">
    <p style="color: #6b7280; font-size: 13px;">
        <strong>Tip:</strong> You can grade this submission by navigating to the submission detail page 
        and clicking "Grade Submission". The student will be notified automatically when you assign a grade.
    </p>
</div>
{% endblock %}
